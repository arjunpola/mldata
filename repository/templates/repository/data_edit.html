{% extends "repository/base.html" %}
{% load i18n %}

{% block title %}{% trans "Repository" %} :: {% trans "Data" %} :: {% trans "Edit" %}{% endblock %}

{% block billboard %}{% trans "Repository" %} :: {% trans "Data" %} :: {% trans "Edit" %}{% endblock %}

{% block extrahead %}
		<link href="/media/css/jquery.autocomplete.css" rel="stylesheet" type="text/css" media="screen" />
		<script type="text/javascript" src="/media/js/jquery/jquery.js"></script>
		<script type="text/javascript" src="/media/js/jquery/jquery.ajaxQueue.js"></script>
		<script type="text/javascript" src="/media/js/jquery/jquery.bgiframe.min.js"></script>
		<script type="text/javascript" src="/media/js/jquery/jquery.autocomplete.js"></script>
{% endblock %}

{% block content %}
{% if user.is_authenticated %}
<h1>Edit Data for {{ prev.name }}</h1>

<form action="{% url repository.views.data_edit prev.slug.text %}" method="post" enctype="multipart/form-data">
<table>
<tr>
	<td style="vertical-align: top"><dl>
		<dd><label for="id_format">{% trans "Data Format" %} (CSV, ARFF, HDF5, ...) *:</label> {{ form.format.errors }}</dd>
		<dt>{{ form.format }}</dt>
		<dd><label for="id_file">{% trans "Data file" %}*:</label> {{ form.file.errors }}</dd>
		<dt>{{ form.file }}</dt>
		<br />
		<dt><input type="submit" name="post" class="submit-post" value="{% trans "Edit Data" %}" /></td>
	</dl></td>
	<td style="vertical-align: top"><dl>
		<dd><label for="id_tags">{% trans "Tags" %}:</label> {{ form.tags.errors }}</dd>
		<dt>{{ form.tags }}</dt>
		<dd><label for="id_summary">{% trans "Summary" %}:</label> {{ form.summary.errors }}</dd>
		<dt>{{ form.summary }}</dt>
		<dd><label for="id_description">{% trans "Description" %}:</label> {{ form.description.errors }}</dd>
		<dt>{{ form.description }}</dt>
		<dd><label for="id_urls">{% trans "URLs" %}:</label> {{ form.urls.errors }}</dd>
		<dt>{{ form.urls }}</dt>
		<dd><label for="id_publications">{% trans "Publications" %}:</label> {{ form.publications.errors }}</dd>
		<dt>{{ form.publications }}</dt>
		<dd><label for="id_license">{% trans "License" %}:</label> {{ form.license.errors }}</dd>
		<dt>{{ form.license }}</dt>
		<dd><label for="id_is_public">{% trans "Is the Data ready to be seen by the public" %}?</label> {{ form.is_public.errors }}</dd>
		<dt>{{ form.is_public }}</dt>
		<dd><label for="id_source">{% trans "Data Source" %}:</label> {{ form.source.errors }}</dd>
		<dt>{{ form.source }}</dt>
		<dd><label for="id_measurement_details">{% trans "Measurement details" %}:</label> {{ form.measurement_details.errors }}</dd>
		<dt>{{ form.measurement_details }}</dt>
		<dd><label for="id_usage_scenario">{% trans "Usage scenario" %}:</label> {{ form.usage_scenario.errors }}</dd>
		<dt>{{ form.usage_scenario }}</dt>
		<br />
		<dt><input type="submit" name="post" class="submit-post" value="{% trans "Edit Data" %}" /></td>
	</dl></td>
</tr>
</table>
</form>
{% else %}
<h1>{% trans "Please login to edit Data" %}</h1>
<form method='post' action='/accounts/login/?next={% url repository.views.data_new %}'>
	<dt><label for="id_username"><tt>{% trans "Username" %}:</tt></label></dt>
	<dd><input id="id_username" type="text" name="username" maxlength="30" /></dd>
	<dt><label for="id_password"><tt>{% trans "Password" %}:</tt></label></dt>
	<dd><input id="id_password" type="password" name="password" maxlength="30" /></dd>
	<dt colspan="2"><input type="submit" name="post" value="{% trans "Login" %}"/></dt>
</form>
{% endif %}
{% endblock %}

